"use strict";(self.webpackChunkoneaj_angular=self.webpackChunkoneaj_angular||[]).push([[324],{4324:(y,c,s)=>{s.r(c),s.d(c,{CreateUserModule:()=>v});var p=s(6895),h=s(4940),a=s(433),g=s(5226),u=s.n(g);class f{constructor(){this.id=1,this.firstName="",this.lastName="",this.userName="",this.crmemail="",this.actualEmail="",this.userType="",this.portals=new m}}class m{constructor(){this.fileUpload=!1,this.createUser=!1,this.arDashboard=!1,this.gpDashboard=!1,this.apDashboard=!1,this.quotationDashboard=!1}}var e=s(8256),U=s(529),C=s(7556);function Z(o,l){if(1&o){const t=e.EpF();e.TgZ(0,"tr",30)(1,"td",3),e._uU(2),e.qZA(),e.TgZ(3,"td",3),e._uU(4),e.qZA(),e.TgZ(5,"td",3),e._uU(6),e.qZA(),e.TgZ(7,"td",3),e._uU(8),e.qZA(),e.TgZ(9,"td")(10,"button",35),e.NdJ("click",function(){const n=e.CHM(t).$implicit,q=e.oxw(2);return e.KtG(q.selectUser(n))}),e._UZ(11,"i",36),e.qZA()()()}if(2&o){const t=l.$implicit,r=l.index;e.xp6(2),e.hij(" ",r+1,""),e.xp6(2),e.hij(" ",t.firstName,""),e.xp6(2),e.hij(" ",t.lastName,""),e.xp6(2),e.hij(" ",t.crmemail,"")}}function b(o,l){if(1&o&&(e.TgZ(0,"tbody"),e.YNc(1,Z,12,4,"tr",34),e.qZA()),2&o){const t=e.oxw();e.xp6(1),e.Q6J("ngForOf",t.users)}}const d=function(){return{standalone:!0}},A=[{path:"",component:(()=>{class o{constructor(t,r,i){this.formbuilder=t,this.apiService=r,this.auth=i,this.expanded=!1,this.users=[],this.selectedUsers=new f,this.role=new m,this.newUserForm=this.formbuilder.group({firstName:["",[a.kI.required]],lastName:["",[a.kI.required]],crmemail:["",[a.kI.required]],actualEmail:["",[a.kI.required]],nameOfTheCustomer:[""],customerCode:[""]})}ngOnInit(){this.userlist()}userlist(){this.apiService.get("http://localhost:5000/userlist").subscribe({next:t=>{this.users=JSON.parse(JSON.stringify(t)),console.log(this.users)}})}selectUser(t){this.selectedUsers=t,this.role=t.portals,this.newUserForm.patchValue(t)}newUser(){const t=this.newUserForm.value;t.portals=this.role,this.selectedUsers.id>0?this.apiService.patch("http://localhost:5000/user/"+this.selectedUsers.id,t,{responseType:"text"}).subscribe({next:r=>{u().fire({position:"top-end",showConfirmButton:!1,timer:3e3,title:"Success!",text:"User updation was successfully completed",icon:"success"})},error:r=>{u().fire({position:"top-end",showConfirmButton:!1,timer:3e3,title:"Error!",text:"Error while updating user",icon:"warning"})}}):this.apiService.post("http://localhost:5000/user/",t,{responseType:"text"}).subscribe({next:r=>{u().fire({position:"top-end",showConfirmButton:!1,timer:3e3,title:"Success!",text:"New user creation was successfully completed",icon:"success"})},error:r=>{u().fire({position:"top-end",showConfirmButton:!1,timer:3e3,title:"Error!",text:"Error while creating new user",icon:"warning"})}})}showCheckboxes(){const t=document.getElementById("checkboxes");this.expanded?(t.style.display="none",this.expanded=!1):(t.style.display="block",this.expanded=!0)}}return o.\u0275fac=function(t){return new(t||o)(e.Y36(a.qu),e.Y36(U.eN),e.Y36(C.h))},o.\u0275cmp=e.Xpm({type:o,selectors:[["app-create-user"]],decls:76,vars:21,consts:[[1,"col","p-5"],[1,"col","p-2","mt-2"],[1,"row"],[1,"col"],[1,"text-dark"],[1,"col-8"],["action","",1,"form-group",3,"formGroup"],[1,"row","mt-5"],["for",""],[1,"text-danger"],["type","text","name","firstName","formControlName","firstName","id","firstName","placeholder","Enter first name ...",1,"form-control"],["type","text","name","lastName","formControlName","lastName","id","lastName","placeholder","Enter last name ...",1,"form-control"],[1,"row","mt-4"],["type","email","name","crmemail","formControlName","crmemail","id","crmemail","placeholder","Enter email id like@syergy.com...",1,"form-control"],["type","email","name","actualEmail","formControlName","actualEmail","id","actualEmail","placeholder","Enter actual email...",1,"form-control"],["for","fileUpload",1,"col"],["type","checkbox","id","fileUpload","value","fileUpload",3,"ngModel","ngModelOptions","ngModelChange"],["for","createUser",1,"col"],["type","checkbox","id","createUser","value","createUser",3,"ngModel","ngModelOptions","ngModelChange"],["for","arDashboard",1,"col"],["type","checkbox","id","arDashboard","value","arDashboard",3,"ngModel","ngModelOptions","ngModelChange"],["for","apDashboard",1,"col"],["type","checkbox","id","apDashboard","value","apDashboard",3,"ngModel","ngModelOptions","ngModelChange"],["for","gpDashboard",1,"col"],["type","checkbox","id","gpDashboard","value","gpDashboard",3,"ngModel","ngModelOptions","ngModelChange"],["for","quotationDashboard",1,"col"],["type","checkbox","id","quotationDashboard","value","quotationDashboard",3,"ngModel","ngModelOptions","ngModelChange"],[1,"row","mt-3"],[1,"btn","btn-outline-primary",3,"click"],[1,"p-0","mt-5"],[1,""],[1,"table-responsive"],[1,"table","table-striped"],[4,"ngIf"],["class","",4,"ngFor","ngForOf"],["target","_blank",1,"btn","btn-outline-primary",3,"click"],[1,"fas","fa-edit"]],template:function(t,r){1&t&&(e._UZ(0,"div",0),e.TgZ(1,"div",1)(2,"div",2)(3,"div",3)(4,"h3",4),e._uU(5," Add new user "),e.qZA()()()(),e.TgZ(6,"div",5)(7,"form",6)(8,"div",7)(9,"div",3)(10,"label",8),e._uU(11,"First Name "),e.TgZ(12,"span",9),e._uU(13,"*"),e.qZA()(),e._UZ(14,"input",10),e.qZA(),e.TgZ(15,"div",3)(16,"label",8),e._uU(17,"Last Name "),e.TgZ(18,"span",9),e._uU(19,"*"),e.qZA()(),e._UZ(20,"input",11),e.qZA()(),e.TgZ(21,"div",12)(22,"div",3)(23,"label",8),e._uU(24,"CRM Email Id "),e.TgZ(25,"span",9),e._uU(26,"*"),e.qZA()(),e._UZ(27,"input",13),e.qZA(),e.TgZ(28,"div",3)(29,"label",8),e._uU(30,"Actual Email Id "),e.TgZ(31,"span",9),e._uU(32,"*"),e.qZA()(),e._UZ(33,"input",14),e.qZA()(),e.TgZ(34,"div",12)(35,"label",8),e._uU(36,"Can Access"),e.qZA(),e.TgZ(37,"label",15)(38,"input",16),e.NdJ("ngModelChange",function(n){return r.role.fileUpload=n}),e.qZA(),e._uU(39," File Upload"),e.qZA(),e.TgZ(40,"label",17)(41,"input",18),e.NdJ("ngModelChange",function(n){return r.role.createUser=n}),e.qZA(),e._uU(42," Create User"),e.qZA(),e.TgZ(43,"label",19)(44,"input",20),e.NdJ("ngModelChange",function(n){return r.role.arDashboard=n}),e.qZA(),e._uU(45," AR Dashboard"),e.qZA(),e.TgZ(46,"label",21)(47,"input",22),e.NdJ("ngModelChange",function(n){return r.role.apDashboard=n}),e.qZA(),e._uU(48," AP Dashboard"),e.qZA(),e.TgZ(49,"label",23)(50,"input",24),e.NdJ("ngModelChange",function(n){return r.role.gpDashboard=n}),e.qZA(),e._uU(51," GP Dashboard"),e.qZA(),e.TgZ(52,"label",25)(53,"input",26),e.NdJ("ngModelChange",function(n){return r.role.quotationDashboard=n}),e.qZA(),e._uU(54," Quotation Dashboard"),e.qZA()(),e.TgZ(55,"div",27)(56,"div",3)(57,"button",28),e.NdJ("click",function(){return r.newUser()}),e._uU(58),e.qZA()()()(),e.TgZ(59,"div",29)(60,"h3",30),e._uU(61,"USER LIST"),e.qZA(),e.TgZ(62,"div",31)(63,"table",32)(64,"tr",30)(65,"th",3),e._uU(66,"#"),e.qZA(),e.TgZ(67,"th",3),e._uU(68,"FIRST NAME"),e.qZA(),e.TgZ(69,"th",3),e._uU(70,"LAST NAME"),e.qZA(),e.TgZ(71,"th",3),e._uU(72,"CRM EMAIL"),e.qZA(),e.TgZ(73,"th",3),e._uU(74,"Edit"),e.qZA()(),e.YNc(75,b,2,1,"tbody",33),e.qZA()()()()),2&t&&(e.xp6(7),e.Q6J("formGroup",r.newUserForm),e.xp6(31),e.Q6J("ngModel",r.role.fileUpload)("ngModelOptions",e.DdM(15,d)),e.xp6(3),e.Q6J("ngModel",r.role.createUser)("ngModelOptions",e.DdM(16,d)),e.xp6(3),e.Q6J("ngModel",r.role.arDashboard)("ngModelOptions",e.DdM(17,d)),e.xp6(3),e.Q6J("ngModel",r.role.apDashboard)("ngModelOptions",e.DdM(18,d)),e.xp6(3),e.Q6J("ngModel",r.role.gpDashboard)("ngModelOptions",e.DdM(19,d)),e.xp6(3),e.Q6J("ngModel",r.role.quotationDashboard)("ngModelOptions",e.DdM(20,d)),e.xp6(5),e.hij(" ",""==r.selectedUsers.firstName?"Create":"Update"," User "),e.xp6(17),e.Q6J("ngIf",r.users.length>1))},dependencies:[p.sg,p.O5,a._Y,a.Fj,a.Wl,a.JJ,a.JL,a.On,a.sg,a.u]}),o})(),canActivate:[s(5107).a]}];let T=(()=>{class o{}return o.\u0275fac=function(t){return new(t||o)},o.\u0275mod=e.oAB({type:o}),o.\u0275inj=e.cJS({imports:[h.Bz.forChild(A),h.Bz]}),o})(),v=(()=>{class o{}return o.\u0275fac=function(t){return new(t||o)},o.\u0275mod=e.oAB({type:o}),o.\u0275inj=e.cJS({imports:[p.ez,a.u5,a.UX,T]}),o})()}}]);